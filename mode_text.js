const a18_0x22cf05=a18_0x3e8c;function a18_0x3e8c(_0x3a222c,_0x559abd){const _0x40c8b9=a18_0x40c8();return a18_0x3e8c=function(_0x3e8c87,_0x529d80){_0x3e8c87=_0x3e8c87-0xfe;let _0x345395=_0x40c8b9[_0x3e8c87];return _0x345395;},a18_0x3e8c(_0x3a222c,_0x559abd);}(function(_0x4f3697,_0x3466f7){const _0x4ee92f=a18_0x3e8c,_0x2c0238=_0x4f3697();while(!![]){try{const _0x588786=-parseInt(_0x4ee92f(0x106))/0x1+parseInt(_0x4ee92f(0x102))/0x2*(parseInt(_0x4ee92f(0x10a))/0x3)+parseInt(_0x4ee92f(0x10d))/0x4+-parseInt(_0x4ee92f(0x107))/0x5+parseInt(_0x4ee92f(0x111))/0x6+-parseInt(_0x4ee92f(0x10e))/0x7*(-parseInt(_0x4ee92f(0x132))/0x8)+parseInt(_0x4ee92f(0x103))/0x9*(-parseInt(_0x4ee92f(0x119))/0xa);if(_0x588786===_0x3466f7)break;else _0x2c0238['push'](_0x2c0238['shift']());}catch(_0x50114d){_0x2c0238['push'](_0x2c0238['shift']());}}}(a18_0x40c8,0xb6af9));function a18_0x40c8(){const _0xf6807c=['clear','6fRQZCJ','lastRowString','fill','4609324VrMhLG','7PWBkin','textWidth','arrayFromText','2461362LeOyIQ','canvas','text','onSwitch','inputRect','alphaStep','dragP1','lower','4284100ClAQHZ','abs','textExceedLimit','saveCanvasBoth','rectOldXY','mousedown','upper','fontFamily','measureText','width','pointInRect','data','drawText','Courier\x20New','mode','length','textHeight','dataForNewMode','cursorAlpha','drawRect','maxColSize','frameData','push','maxRowSize','painter','5834992TRvYOi','drawInputRect','drawCursor','canInput','slice','dragP2','keydown','1456126xlhgQz','36uJTKxh','min','mousemove','786206IdiozZ','2499655YBdIbd','fontSize'];a18_0x40c8=function(){return _0xf6807c;};return a18_0x40c8();}class ModeText extends Mode{constructor(_0x3de76c){const _0x1aa397=a18_0x3e8c;super(_0x3de76c),this[_0x1aa397(0x112)]={},this[_0x1aa397(0x112)][_0x1aa397(0x118)]=this['genEmptyFrameData'](),this[_0x1aa397(0x112)][_0x1aa397(0x11f)]=this['genEmptyFrameData'](),this['text']='',this[_0x1aa397(0x108)]=0x14,this[_0x1aa397(0x120)]=_0x1aa397(0x126),this[_0x1aa397(0x12b)]=0x1,this['alphaStep']=-0x1/0x1e,this['p1']=[0x0,0x0],this['p2']=[0x0,0x0],this['rectOldXY']=[0x0,0x0],this[_0x1aa397(0x117)]=[0x0,0x0],this[_0x1aa397(0x100)]=[0x0,0x0],this[_0x1aa397(0xfe)]=![];}[a18_0x22cf05(0x12a)](){const _0x3cf825=a18_0x22cf05;return this['vc']['clear'](),this['vc'][_0x3cf825(0x10c)](this[_0x3cf825(0x112)][_0x3cf825(0x118)]),this[_0x3cf825(0x125)](),this['vc'][_0x3cf825(0x124)]();}[a18_0x22cf05(0x123)](_0x23991c,_0x46665d){const _0x54bcfb=a18_0x22cf05;let [_0x44022c,_0xac9b09,_0x1f4c54,_0x4f4919]=this[_0x54bcfb(0x115)](),_0x2132fd=_0x44022c<=_0x23991c&&_0x23991c<=_0x44022c+_0x1f4c54,_0x360e1f=_0xac9b09<=_0x46665d&&_0x46665d<=_0xac9b09+_0x4f4919;return _0x2132fd&&_0x360e1f;}[a18_0x22cf05(0x11e)](_0x1903c9,_0x303de8){const _0x350c41=a18_0x22cf05;this[_0x350c41(0xfe)]&&(!this['pointInRect'](_0x1903c9,_0x303de8)&&(this[_0x350c41(0xfe)]=![],this[_0x350c41(0x11c)](),this[_0x350c41(0x113)]='')),!this['canInput']?(this['p1']=[_0x1903c9,_0x303de8],this['p2']=[_0x1903c9,_0x303de8],this[_0x350c41(0x11d)]=[_0x1903c9,_0x303de8]):(this[_0x350c41(0x117)]=[_0x1903c9,_0x303de8],this['dragP2']=[_0x1903c9,_0x303de8]);}['mouseup'](){const _0x1b3b48=a18_0x22cf05;if(!this[_0x1b3b48(0xfe)])this[_0x1b3b48(0xfe)]=!![];else{let _0x27f635=minus(this['dragP2'],this['dragP1']);this[_0x1b3b48(0x11d)]=plus(_0x27f635,this[_0x1b3b48(0x11d)]);}}[a18_0x22cf05(0x105)](_0x1d2962,_0x2af75c){const _0x554d60=a18_0x22cf05;if(!this[_0x554d60(0xfe)])this['p2']=[_0x1d2962,_0x2af75c];else{this['dragP2']=[_0x1d2962,_0x2af75c];let _0x556d80=minus(this[_0x554d60(0x100)],this[_0x554d60(0x117)]),_0x5cf960=minus(this['p2'],this['p1']);this['p1']=plus(_0x556d80,this[_0x554d60(0x11d)]),this['p2']=plus(_0x5cf960,this['p1']);}}[a18_0x22cf05(0x115)](){const _0x33edc5=a18_0x22cf05;let _0x5ddd51=Math['min'](this['p1'][0x0],this['p2'][0x0]),_0x3b5b73=Math[_0x33edc5(0x104)](this['p1'][0x1],this['p2'][0x1]),[_0x97d5d4,_0x2bc0d8]=minus(this['p1'],this['p2']),_0xf4d8b8=Math[_0x33edc5(0x11a)](_0x97d5d4),_0x1088e4=Math[_0x33edc5(0x11a)](_0x2bc0d8);return[_0x5ddd51,_0x3b5b73,_0xf4d8b8,_0x1088e4];}[a18_0x22cf05(0x114)](_0x4de59c){const _0x379e30=a18_0x22cf05;let _0x2faef6=_0x4de59c[_0x379e30(0x127)];this[_0x379e30(0x112)]['lower']=_0x2faef6[_0x379e30(0x12a)](),this[_0x379e30(0x112)][_0x379e30(0x11f)]=_0x2faef6['dataForNewMode'](),this[_0x379e30(0xfe)]=![],this['p1']=[0x0,0x0],this['p2']=[0x0,0x0],this[_0x379e30(0x117)]=[0x0,0x0],this['dragP2']=[0x0,0x0],this[_0x379e30(0x11d)]=[0x0,0x0],this[_0x379e30(0x113)]='';}[a18_0x22cf05(0x101)](_0xd11332){const _0x2f8ca5=a18_0x22cf05;let _0x188d83=_0xd11332['key'];if(!this['canInput'])return;if(_0x188d83==='Backspace'){let _0x40b291=this[_0x2f8ca5(0x113)]['length']-0x1;this['text']=this[_0x2f8ca5(0x113)]['substring'](0x0,_0x40b291);}else!this[_0x2f8ca5(0x11b)]()&&(this[_0x2f8ca5(0x113)]+=_0x188d83);}[a18_0x22cf05(0x11b)](){const _0xc0cadc=a18_0x22cf05;let _0x3bedc9=this[_0xc0cadc(0x130)](),_0x4f502b=this[_0xc0cadc(0x12d)](),_0x20f83e=_0x3bedc9*_0x4f502b;return this[_0xc0cadc(0x113)]['length']>=_0x20f83e;}[a18_0x22cf05(0x130)](){const _0x2d4cad=a18_0x22cf05;let _0x5a51a6=this[_0x2d4cad(0x115)]()[0x3],_0x7d19de=this['fontSize'],_0x5b3731=_0x5a51a6/_0x7d19de;return Math['floor'](_0x5b3731);}[a18_0x22cf05(0x12d)](){const _0x236cc3=a18_0x22cf05;let _0x141221=this[_0x236cc3(0x115)]()[0x2],_0x5c4504=this['textWidth'](),_0xdfbecd=_0x141221/_0x5c4504;return Math['floor'](_0xdfbecd);}[a18_0x22cf05(0x110)](){const _0xc7f775=a18_0x22cf05;let _0x426094=this['text'],_0x407ac3=[],_0x3f7014=this[_0xc7f775(0x12d)]();for(let _0x464cbb=0x0;_0x464cbb<_0x426094[_0xc7f775(0x128)];_0x464cbb+=_0x3f7014){let _0x3f8c56=_0x426094['slice'](_0x464cbb,_0x464cbb+_0x3f7014);_0x407ac3[_0xc7f775(0x12f)](_0x3f8c56);}return _0x407ac3[_0xc7f775(0x128)]===0x0&&(_0x407ac3=['']),_0x407ac3;}['setUpperCanvas'](){const _0x42399f=a18_0x22cf05;this['vc'][_0x42399f(0x109)](),this['vc'][_0x42399f(0x10c)](this['canvas'][_0x42399f(0x118)]),this[_0x42399f(0x133)]();if(this[_0x42399f(0xfe)]){this[_0x42399f(0x125)]();let [_0x17bc4a,_0x1eb168]=this[_0x42399f(0x115)]()['slice'](0x2),_0x56e5fb=_0x17bc4a>=this[_0x42399f(0x10f)](),_0x50596e=_0x1eb168>=this['textHeight']();_0x56e5fb&&_0x50596e&&this[_0x42399f(0x134)]();}this[_0x42399f(0x112)][_0x42399f(0x11f)]=this['vc'][_0x42399f(0x124)]();}[a18_0x22cf05(0x11c)](){const _0xac645=a18_0x22cf05;this['vc'][_0xac645(0x109)](),this['vc']['fill'](this[_0xac645(0x112)]['lower']),this[_0xac645(0x125)](),this[_0xac645(0x112)][_0xac645(0x118)]=this['vc'][_0xac645(0x124)](),this[_0xac645(0x112)][_0xac645(0x11f)]=this['vc']['data']();}[a18_0x22cf05(0x12e)](){const _0x4bd3ac=a18_0x22cf05;return this[_0x4bd3ac(0x112)]['upper'];}[a18_0x22cf05(0x133)](){const _0x1cd8ec=a18_0x22cf05;let [_0xd294d4,_0x3e7c93,_0x484e8a,_0x9f49a4]=this[_0x1cd8ec(0x115)]();this['vc']['painter'][_0x1cd8ec(0x12c)](_0xd294d4,_0x3e7c93,_0x484e8a,_0x9f49a4,!![]);}[a18_0x22cf05(0x125)](){const _0x3b79f9=a18_0x22cf05;let _0x3e9f72=this[_0x3b79f9(0x110)]();for(let _0x45d4af=0x0;_0x45d4af<_0x3e9f72[_0x3b79f9(0x128)];_0x45d4af++){let _0x1cf203=_0x3e9f72[_0x45d4af],[_0x48c073,_0x2b7411]=this[_0x3b79f9(0x115)]()[_0x3b79f9(0xff)](0x0,0x2);_0x2b7411=_0x2b7411+_0x45d4af*this['fontSize'],this['vc'][_0x3b79f9(0x131)]['fillText'](_0x1cf203,_0x48c073,_0x2b7411,this[_0x3b79f9(0x108)],this[_0x3b79f9(0x120)]);}}[a18_0x22cf05(0x10b)](){const _0x358d62=a18_0x22cf05;let _0x1db436=this[_0x358d62(0x110)](),_0x1d45f8=_0x1db436[_0x358d62(0x128)]-0x1;return _0x1db436[_0x1d45f8];}[a18_0x22cf05(0x10f)](){const _0x1a31a6=a18_0x22cf05;let _0x342174=this['vc'][_0x1a31a6(0x131)][_0x1a31a6(0x121)]('a',this[_0x1a31a6(0x108)],this[_0x1a31a6(0x120)]);return _0x342174[_0x1a31a6(0x122)];}[a18_0x22cf05(0x129)](){const _0x4d2322=a18_0x22cf05;return this[_0x4d2322(0x108)];}[a18_0x22cf05(0x134)](){const _0x669961=a18_0x22cf05;let [_0x4971da,_0x4c0283]=this[_0x669961(0x115)]()[_0x669961(0xff)](0x0,0x2),_0xb09d5=this[_0x669961(0x110)](),_0x57d853=_0xb09d5[_0x669961(0x128)]-0x1,_0x50d046=this['lastRowString']()[_0x669961(0x128)],_0x5a4032=_0x4971da+_0x50d046*this[_0x669961(0x10f)](),_0x47f74c=_0x4c0283+_0x57d853*this[_0x669961(0x129)](),_0x11132c=this[_0x669961(0x108)],_0x5d93aa=[_0x5a4032,_0x47f74c],_0x182ff3=[_0x5a4032,_0x47f74c+_0x11132c];this['vc'][_0x669961(0x131)]['drawLine'](_0x5d93aa,_0x182ff3,![],this[_0x669961(0x12b)]);}['update'](){const _0x53e373=a18_0x22cf05;this['cursorAlpha']+=this['alphaStep'];let _0x17e343=this['cursorAlpha']<=0x0||this[_0x53e373(0x12b)]>=0x1;_0x17e343&&(this[_0x53e373(0x116)]*=-0x1),this['setUpperCanvas']();}}